<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="WriteAndTag.html">WriteAndTag</a><ul class='members'><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._autocomplete_source">_autocomplete_source</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._container">_container</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._is_writing_tag">_is_writing_tag</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._sorting">_sorting</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._tag_separator">_tag_separator</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._tagged_word">_tagged_word</a></li><li data-type='member' style='display: none;'><a href="WriteAndTag.html#._tags">_tags</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getAutocompleteElementsList">_getAutocompleteElementsList</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getCleanHtml">_getCleanHtml</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getHtml">_getHtml</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getIsWritingTag">_getIsWritingTag</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getJson">_getJson</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getPlainText">_getPlainText</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._getTagConfigFromChar">_getTagConfigFromChar</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isCharArrow">_isCharArrow</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isCharBackspace">_isCharBackspace</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isCharShift">_isCharShift</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isTagEnd">_isTagEnd</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isTagIdentificationChar">_isTagIdentificationChar</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._isTagStart">_isTagStart</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._matchTag">_matchTag</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._placeCaretAtEnd">_placeCaretAtEnd</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setAutocompleteSource">_setAutocompleteSource</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setContainer">_setContainer</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setIsWritingTag">_setIsWritingTag</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setSorting">_setSorting</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setTaggedWord">_setTaggedWord</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setTags">_setTags</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._setTagSeparator">_setTagSeparator</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._sortAutocompleteElementsList">_sortAutocompleteElementsList</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._start">_start</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#._subscribeEvents">_subscribeEvents</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.getHtml">getHtml</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.getJson">getJson</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.getPlainText">getPlainText</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.setContainer">setContainer</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.setSorting">setSorting</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.setTags">setTags</a></li><li data-type='method' style='display: none;'><a href="WriteAndTag.html#.setTagSeparator">setTagSeparator</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>jQuery WriteAndTag</h1>
<p>WriteAndTag is Javascript class that allows you to
write text and recognize custom multiple tags inside it.<br>
Requires jQuery and jQuery UI.</p>
<p>Version 0.1.0 <strong>(beta)</strong></p>
<h2>Usage</h2>
<p>Tags consist of two main parts:</p>
<ul>
<li>A character used as an identifier;</li>
<li>A list of elements described by a value and a label.</li>
</ul>
<p>Each of these entities is a <strong>group of tags</strong>.</p>
<h3>Defining the groups of tags</h3>
<p>You can define multiple groups identified by different characters
by building a JSON array with this structure:</p>
<pre class="prettyprint source lang-javascript"><code>var tags = [
    {
        // The identifying character
        'tag': '...',

        // List of elements that can be selected as tags
        'autocomplete' : [
            {
                value: &quot;value1&quot;,
                label: &quot;My label 1&quot;
            },
            {
                value: &quot;value2&quot;,
                label: &quot;My label 2&quot;
            }
        ]
    }
];
</code></pre>
<p>For example, if the user types <code>@My label 1</code> it is tagged as <code>value1</code>.</p>
<p>Each object within the main array represents a group of tags;
of course you can define as many groups as you want by identifying them with different characters.</p>
<p>The following example contains three groups of tags:
the first is identified by <code>@</code>, the second by <code>#</code>
and the third by <code>.</code> (dot):</p>
<pre class="prettyprint source lang-javascript"><code>var tags = [
    {
        'tag': '@',
        'autocomplete' : [
            {
                value: &quot;value1&quot;,
                label: &quot;My label 1&quot;
            },
            {
                value: &quot;value2&quot;,
                label: &quot;My label 2&quot;
            }
            // ...
        ]
    },

    {
        'tag': '#',
        'autocomplete' : [
            {
                value: &quot;value3&quot;,
                label: &quot;My label 3&quot;
            },
            {
                value: &quot;value4&quot;,
                label: &quot;My label 4&quot;
            }
            // ...
        ]
    },
    
    {
        'tag': '.',
        'autocomplete' : [
            // ...
        ]
    }
];
</code></pre>
<h3>Class initialization</h3>
<p>Put a <code>&lt;div&gt;</code> in your HTML page and use it as a writing area:</p>
<pre class="prettyprint source lang-html"><code>&lt;div class=&quot;container&quot;>&lt;/div>
</code></pre>
<p>The <code>&lt;div&gt;</code> will automatically be made &quot;editable&quot; by WriteAndTag.</p>
<p>Then initialize an instance of <code>WriteAndTag</code> class and set
the following minimum configurations:</p>
<pre class="prettyprint source lang-javascript"><code>var wt = new WriteAndTag();
wt.setTags(tags);
wt.setContainer('.container');
</code></pre>
<p>The <code>setTags</code> method sets the list of tag groups,
and the <code>setContainer</code> method indicates which <code>&lt;div&gt;</code>
to use as a writing area.</p>
<p>Then you can use one of the &quot;get&quot; methods to retrieve
the tags written by the user: <code>getPlainText</code>, <code>getHtml</code> and <code>getJson</code>.</p>
<h3>Public methods</h3>
<h4>setTags</h4>
<p>Sets the list of tags to be recognized, and their respective autocomplete values.<br>
It is mandatory.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>var tags = [...];
wt.setTags(tags);
</code></pre>
<h4>setContainer</h4>
<p>Sets the jQuery selector of the <code>&lt;div&gt;</code> on which the user will write the text.<br>
It is mandatory.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>wt.setContainer('.container');
</code></pre>
<h4>setSorting</h4>
<p>Activates or deactivates the alphabetical sorting of the items in the autocomplete menu (default: active).</p>
<p>If disabled, the items will be displayed in the order they were defined in the array.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>wt.setSorting(false);
</code></pre>
<h4>setTagSeparator</h4>
<p>Sets a character or string to use as tag separator (default: a space).</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>wt.setTagSeparator('; ');
wt.setTagSeparator(' - ');
wt.setTagSeparator(' [what you want] ');
</code></pre>
<h4>getPlainText</h4>
<p>Returns the plain text content including tags and cleared of all HTML code.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>var my_tags = wt.getPlainText();
</code></pre>
<p>Assuming we have three types of tags (<code>@</code> for cities,
<code>#</code> for countries and <code>.</code> for food), it returns
something like this:</p>
<pre class="prettyprint source lang-text"><code>@Rome is in #Italy, the homeland of .Pizza
</code></pre>
<h4>getHtml</h4>
<p>Returns textual content including tags and HTML code.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>var my_tags = wt.getHtml();
</code></pre>
<p>Returns something like this:</p>
<pre class="prettyprint source lang-html"><code>&lt;span data-writeandtag=&quot;true&quot; data-writeandtag-tag=&quot;@&quot; data-writeandtag-value=&quot;a1&quot;>@Rome&lt;/span> is in &lt;span data-writeandtag=&quot;true&quot; data-writeandtag-tag=&quot;#&quot; data-writeandtag-value=&quot;b1&quot;>#Italy&lt;/span>, the homeland of &lt;span data-writeandtag=&quot;true&quot; data-writeandtag-tag=&quot;.&quot; data-writeandtag-value=&quot;c2&quot;>.Pizza&lt;/span>
</code></pre>
<p>Each tag is identified by a <code>&lt;span&gt;</code> that has these attributes:</p>
<ol>
<li><code>data-writeandtag-tag</code> contains the identifier character;</li>
<li><code>date-writeandtag-value</code> contains the value of the tag (is the attribute <code>value</code> of tag groups array).</li>
</ol>
<h4>getJson</h4>
<p>Returns a JSON representing all the structured text and tags.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>var my_tags = wt.getJson();
</code></pre>
<p>Returns something like this:</p>
<pre class="prettyprint source lang-javascript"><code>[
    {
        &quot;plainText&quot; : &quot;Rome&quot;,
        &quot;tag&quot; : {
            &quot;char&quot; : &quot;@&quot;,
            &quot;value&quot; : &quot;a1&quot;,
            &quot;fullTag&quot; : &quot;@Rome&quot;
        }
    },
    {
        &quot;plainText&quot; : &quot; is in &quot;
    },
    {
        &quot;plainText&quot; : &quot;Italy&quot;,
        &quot;tag&quot; : {
            &quot;char&quot; : &quot;#&quot;,
            &quot;value&quot; : &quot;b1&quot;,
            &quot;fullTag&quot; : &quot;#Italy&quot;
        }
    },
    {
        &quot;plainText&quot; : &quot;, the homeland of &quot;
    },
    {
        &quot;plainText&quot; : &quot;Pizza&quot;,
        &quot;tag&quot; : {
            &quot;char&quot; : &quot;.&quot;,
            &quot;value&quot; : &quot;c2&quot;,
            &quot;fullTag&quot; : &quot;.Pizza&quot;
        }
    }
]
</code></pre>
<p>Each object in the JSON array represents a piece of text with
the eventual tag, and follows the same sequence as the text
typed by the user.</p>
<p>Scrolling through the array sequentially you can
reconstruct the initial content.</p>
<h2>TODO</h2>
<ul>
<li>Tag editing functionality.</li>
<li>Immediate display of the tag list upon insertion of the first character.</li>
<li>Some fixes (especially on Mozilla Firefox)</li>
</ul></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Thu Dec 24 2020 23:47:40 GMT+0100 (Central European Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>